### 基本概念
* Node 对 etcd-raft 的一层封装，方便上层使用
* 上层模块 etcd-raft 的调用者，通过 Node 提供的 API 与底层 etcd-raft 交互
* Cluster 表示集群，记录了集群的基础信息
* Member 集群的元素之一，封装了一个节点的基本信息
* Peer 集群中某个节点对于另一个节点的称呼
* Entry 节点之间传递的是消息（Message），每条消息可以携带多条 Entry
    * Term uint64，所在任期号
    * Index unit64 索引号
    * Type EntryType 包括 EntryNormal（普通数据操作） 和 EntryConfChange（集群变更操作）
    * Data []byte 操作的数据



### 消息结构体
raftpb.Message
```pb
message Message {
    // 消息类型
	optional MessageType type        = 1  [(gogoproto.nullable) = false];
    // 目标节点 id，每个节点都有唯一标识
	optional uint64      to          = 2  [(gogoproto.nullable) = false];
    // 发送节点 id，每个节点都有唯一标识
	optional uint64      from        = 3  [(gogoproto.nullable) = false];
    // 发送消息节点的任期值
	optional uint64      term        = 4  [(gogoproto.nullable) = false];
    // 第一条 entry 的任期值
	optional uint64      logTerm     = 5  [(gogoproto.nullable) = false];
    // 索引，不同消息类型含义不同
	optional uint64      index       = 6  [(gogoproto.nullable) = false];
    //entry，不同消息类型含义不同
	repeated Entry       entries     = 7  [(gogoproto.nullable) = false];
    // 发送节点的 commit 位置
	optional uint64      commit      = 8  [(gogoproto.nullable) = false];
    // 传输快照时该字段保存的快照值 
	optional Snapshot    snapshot    = 9  [(gogoproto.nullable) = false];
    // 是否拒绝收到的消息 用于响应类型的消息
	optional bool        reject      = 10 [(gogoproto.nullable) = false];
	optional uint64      rejectHint  = 11 [(gogoproto.nullable) = false];
    // 一些上下文消息
	optional bytes       context     = 12;
}
```

### 消息类型
```
enum MessageType {
	MsgHup             = 0;
	MsgBeat            = 1;
	MsgProp            = 2;
	MsgApp             = 3;
	MsgAppResp         = 4;
	MsgVote            = 5;
	MsgVoteResp        = 6;
	MsgSnap            = 7;
	MsgHeartbeat       = 8;
	MsgHeartbeatResp   = 9;
	MsgUnreachable     = 10;
	MsgSnapStatus      = 11;
	MsgCheckQuorum     = 12;
	MsgTransferLeader  = 13;
	MsgTimeoutNow      = 14;
	MsgReadIndex       = 15;
	MsgReadIndexResp   = 16;
	MsgPreVote         = 17;
	MsgPreVoteResp     = 18;
}
```